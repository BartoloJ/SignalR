<!DOCTYPE html>
<html>
    <head><title>SignalR Chat</title></head>
    <body>
        <input type="text" id="userInput" placeholder="Enter your name" />
        <input type="text" id="messageInput" placeholder="Enter your message" />
        <button onclick="sendMessage()">Send</button>

        <ul id="messagesList"></ul>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.0/signalr.min.js" ></script>
        <script>
            const connection = new signalR.HubConnectionBuilder().withUrl("/chatHub").build();

            connection.on("ReceiveMessage", (user, message) => {
                const li = document.createElement("li");
                li.textContent = `${user}: ${message}`;
                document.getElementById("messagesList").appendChild(li);
            });

            connection.start().catch(err => console.error(err.toSrting()));

            function sendMessage() {
                const userInput = document.getElementById("userInput");
                const user = userInput.value;

                const messageInput = document.getElementById("messageInput");
                const message = messageInput.value;
                messageInput.value = "";
                connection.invoke("SendMessage", user, message)
                    .catch(err => console.error(err.toSrting()));
            }
        </script>
    </body>
</html>